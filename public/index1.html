<!DOCTYPE>
<html ng-app="myApp">
<head>
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/0.10.0/lodash.min.js"></script>

 <!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->

 <!-- <script src='build/pdfmake.min.js'></script> -->
  <!-- <script src='build/vfs_fonts.js'></script> -->
 <!--  <script type="text/javascript">
  function myfunction()
  {
    var x=document.getElementsByName("taxv").value;
    document.getElementById("demo").innerHTML = x;
  }
  </script> -->

    <title>Inventory</title>  
  
      <style> 

 #buttonwidth{
  width:80px;
}
#buttonwidth1{
  width:80px;
}
    #star{

     color:red;
}
 
    .button{
      align:center;
    }
    .btn-primary{
    margin-right: 10px;
}
.container{
  margin: 20px 0;
}
        .error {  
            color: red;  
        } 
        
          .panel-default> #heading1 
{
  background:black;
  height:80px;
}
/*span {
    display: none;
}*/
.show {
    display: inline-block;
}
.active
{
  font-color:white;
}
label {
  display: inline-block;
  width: 140px;
  text-align: right;
}â€‹
 #usr
 {
  width: 12em;
 } 
 .frm {
  width: 15%;
}
#table1{
  border-collapse: collapse;
    border-spacing:1px;
    width: 200px;
    border: 1px solid black;
    table-layout: fixed;
    display:block;
    height:150px;
    overflow-y:scroll;
}
#th1,#td1{
  width: 200px;
    border-bottom:1px solid black;
    text-align: left;
    padding: 4px;
  

}
table {
    border-collapse: collapse;
    border-spacing: 20;
    width: 2400px;
    border: 1px solid #ddd;
    table-layout: fixed;
    border-collapse: separate;
}


th, td {
    width: 140px;
    border: none;
    text-align: left;
    padding: 8px;
    overflow: hidden;
}
td {
  height: 50px;
}
.custom {
    width: 150px !important;
}
/*table,th,td,input {
    width: 100%;
    padding: 05px;
    margin: 0px;
    border: none;
    background: transparent;
}*/
input {
    border: none;
    background: transparent;
}

 /*.dropdown
 {
  width: 2em;
 }      */
#chk{

}
#frm {
  display: inline-flex;
}
#frm1 {

  display: inline-flex;
}
#frm2 {
  display: inline-flex;
}
#frm3 {
  display: inline-flex;
}
#frm4 {
  display: inline-flex;
}
#frm5 {
  display: inline-flex;
}
#usr1
{
  background: #F5F5DC;
}
#save
{
  margin-top: 20px;
}
#history {
  margin-left: 28px;
}
#scroll
{
   overflow-y:auto;
   height: 16%;
}
#tab
{
display: inline-block;
}
/*table#tags{width:20%; border:1px solid red;}*/
#tags tr td {height:10px; border:1px;}
/*#tag1{
  height: 5%;
}*/
/*.inline { 
    display: inline; 
    border: 1px solid red; 
    margin:10px;
    }*/
/*#text {
      height: 10px;
      width:40px;
    }
*/  
#tag1:focus {
    background-color: blue;
}
.selected {
  background-color: blue;
}
.panel.panel-default
{
  height: 15%;
  width: 65%;
  border-style: solid;
  border-color: black;
}
#inlinetext{
/*display:inline-flex;*/
}
#blockWidth{
  max-width: 100px;
  border: 1px solid black;
}
#blockWidt{
 /* max-width: 300px;*/
 width: 50px;
   /* position: relative;*/
    left: 30px;
    top: 10px;
 /*   z-index: -1;*/
    
}
/*body, html, .container-fluid {
         height: 12%;
    }*/


#demo {
  height: 90px;
  width: 118%;
}

.ng-valid {
  height: 26px;
  display: inline-block;
}

.col-sm-4 {
  border: 1px solid;
  height: 115px;
  width: 100px;
}
/*.btn.btn-primary {
  margin-left: -59px;
}*/
/*.btn.btn-primary {
  margin-top: -56px;
}*/
#namnum {
  display: inline;
}
#hrefbtn {
  margin-left: 56px;
}
</style>

    
</head>  
<body ng-controller="FirstCntrl">
   <!-- <div class="btn-group btn-group-justified">
   <a href="index.html" ><button type="button" class="btn btn-primary">Main</button></a>
  <a href="list.html" > <button type="button" class="btn btn-primary">List</button></a>
  
</div> --> 
 <div class="btn-group btn-group-justified" ng-cloak>
    <a href="index1.html" class="btn btn-primary active">Main</a>
    <a href="list.html" class="btn btn-primary">List</a>
   
  </div> <br>
   <div  class="container-fluid" >
  <div class="row" ng-cloak id="demo">
       <!-- <div class="col-sm-4"> -->
       <div class="col-sm-2">
           <div id="frm">
              <form>
                Transaction:
              </form>
              <form>
                    <select ng-model="transaction" class="  selectpicker" ng-change = "TransactionDetails();getDetails()" >
                      
<!--  ng-init=" transaction = 'Regular Sale'"  -->
                        <option ng-repeat="tran in transactions" ng-cloak >{{tran.TransactionType}}</option></select>
                      

                  <!--   </select> -->
              </form>
            

           </div>
           <div ng-show="transaction == 'RD Purchase'||transaction == 'Receipt Voucher'" >
           RefId<span  id="star"><font size="04">*</font></span>: <input  type="text" ng-model="refId"  placeholder="refId" id="blockWIdth" min="1" name=""  oninput="this.value=this.value.replace(/[^1-9]/g,'');" required >
           </div>
           

       </div>
        <!--  <div class="col-sm-4"> -->
       <div class="col-sm-4">
          <div>
            <form>
              Partyname:
            </form>
       <!--      <form style="border: 1px solid"> -->
                <!-- <input list="partyname" ng-model="partyname" ng-change="getPartyDetails();getDetails();TransactionDetails()" style="border: 1px solid"> -->
                <input list="partyname" ng-model="partyname" ng-change="getPartyDetailsNames();getDetails();" style="border: 1px solid"  ng-blur="dupli()">
                <!-- <input type="name" name="" ng-change="getPartyDetails()"> -->
                  <datalist id="partyname">
                    <select   id="blockWIdt">

                        <option ng-repeat="party in partyNames" ng-cloak>{{party.subscriber}}</option>
                    </select>
                  </datalist>
                   

       <!--      </form> -->
            <a href="cf/managesubscribers" class="btn btn-primary" id="hrefbtn" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'" ng-click = "history()"  >Create Party </a> 
            </div>
            <div ng-cloak id="namnum">
      Name: <input  type="text" ng-model="partyname" name="name" placeholder="name" id="blockWIdth" readonly >
   
      Number: <input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');"  ng-model="mobile" placeholder="9999999999" id="blockWIdth" readonly>
      Place: <input type="text" ng-model="place" name="place" placeholder="place" id="blockWIdth" readonly>
    
       </div>

          </div>
       <!--  </div>
<!-- {{try}} -->
       <!--  <div class="col-sm-2"> --> 
            <!-- <a class="btn btn-primary" data-toggle="modal" data-target="#myModal" ng-click = "history()"  >History</a> -->
           
        <!-- <div class="col-sm-2" ng-show ="(transaction == 'Urd Purchase' || transaction == 'Sale Return' || transaction == 'Purchase Return' )" ></div> -->

        <div class="col-sm-2"  ng-hide ="(transaction == 'Urd Purchase' || transaction == 'Sale Return' || transaction == 'Purchase Return'||transaction == 'Approval Sale')" >

 
          <input type="radio"  ng-model="radio.state"   ng-change="radiobutton()" value="with in state" ng-if = " edituseritButton != true"> <span ng-if = " edituseritButton != true">With in State</span>
          <input type="radio"  ng-model="radio.state" ng-if = " edituseritButton != true" ng-change="radiobutton()" value="out of state"><span ng-if = " edituseritButton != true">Out of State</span>
          <!-- <br>
          <br> -->
         <!--  <div class="col-sm-2" ng-show="transaction == 'Receipt Voucher'">
            <!-- <span color="red">*<span> -->
          <!-- refID<span id="star"><font size="04">*</font></span>: <input type="number" ng-model="newreceiptID" id="blockWidth" placeholder="refId" required>
           </div> -->
        </div> 
           
        <!-- <div class="col-sm-4"> -->
        <div class="col-sm-2" >
            <div id="frm1">
              <form ng-show="transaction != 'Issue Voucher'&&transaction != 'Receipt Voucher'&&transaction!='Approval Out'&&transaction !='Approval Return'&& partyname != null">
               Bill Type<span id="star"><font size="04">*</font></span>:
              </form>
              <form>
                   <select ng-model="billtype" ng-show="transaction != 'Issue Voucher'&&transaction != 'Receipt Voucher'&&transaction!='Approval Out'&& transaction !='Approval Return'" class="selectpicker" ng-change="billType()">
                   <!--  > -->
                      <option>Cash</option>
                      <option>Credit</option>
                   </select>
              </form>
              <p style="    padding-left: 25px; font-size: 20px;
                 font-style: italic;    color: red;">{{usernamedetails}}</p>
            </div>
          <!-- </div> -->
             <table id="table1"  ng-show="transaction =='Sale Return'|| transaction =='Purchase Return'&& partyname !=null" >
            <tr ><th id="th1">TransactionHistory:</th></tr>
         <tr  ng-repeat="v in datex" ng-click="row3($index);getDetails($index,v._id.voucherNo)" id="tag1" ng-class="{selected : $index === idSelectedVote}">
            <option ng-model="tDate"  required>
              
               <!--  <td  ng-class="{selected : $index === idSelectedVote}" id="td1" height="1" >{{v.date | date:'dd/MM/yyyy'}},{{v.voucherNo}}</td> -->
               <td ng-class="{selected : $index===idSelectedVote}" id="td1"
               height="1">{{v._id.voucherNo}}</td>
                 <!-- <td id="td1" height="1">{{c.date | date:'dd/MM/yyyy'}}</td> -->
            </option>
          </tr>
           </table>
           <table id="table1" ng-show="transaction == 'Approval Sale'||transaction=='Approval Return'">
            <tr><th id="th1">Approval Out's</th></tr>
            <tr  ng-repeat="v in datex" ng-click="row3($index);getDetails($index,v._id.voucherNo)" id="tag1" ng-class="{selected : $index === idSelectedVote}">
            <option ng-model="tDate"  required>
              
                <td  id="td1" height="1" >{{v._id.voucherNo}}</td>
                 <!-- <td id="td1" height="1">{{c.date | date:'dd/MM/yyyy'}}</td> -->
            </option>
          </tr>
           </table> 
        </div>
</div>
<!-- </div> -->
  </div>
  <!-- <br><br>
 <!--  <div class="row" > -->
       <!-- <div class="col-sm-4" class="inlinetext"> -->
     <!--   <div class="col-sm-2" id="inlinetext" > -->
      <!-- Name: <input  type="text" name="name" placeholder="name">
      
     -->
       
    <!--    </div> -->
      <!--  <div class="col-sm-2" id="inlinetext" ng-cloak >
      Name: <input  type="text" ng-model="partyname" name="name" placeholder="name" id="blockWIdth" readonly>
      
      Number: <input type="number"  ng-model="mobile" placeholder="9999999999" id="blockWIdth" readonly>
      Place: <input type="text" ng-model="place" name="place" placeholder="place" id="blockWIdth" readonly>
       
       </div> -->
  <!-- </div>  --> 
 <!--  </div>  -->  
<br>
   
    <div>
    <div class="w3-row-padding w3-border" ng-cloak>
    <div class="w3-quarter w3-container">
    <div class="w3-card-2 w3-margin">
        <header class="w3-container w3-light-grey w3-padding-8 w3-center">
        <h4 >URD CREDIT</h4>
        </header>
          <table id="tab" class="w3-table w3-stripped w3-bordered">
            <thead>
             <tr>
         <th>Checkbox</th>
        <th>Date</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in urd" >
      <!-- ng-click="urdvalue(item)"
       <td> ng-click="row1(tag)" id="tag1" ng-class="{selected : tag === idSelectedVote}"
          <input type="checkbox" ng-model="tableSelection[$index]" ng-click = "urd(item)" />
       </td> -->

       <td>
          <input type="checkbox" ng-model="myChkModel" ng-change="myClick(myChkModel,item)" />
       </td>
        <td ng-cloak>{{item.date | date  : "dd-MM-y" }}</td>
        <td ng-cloak>{{item.urdAdjustment}}</td>
        <!-- <td><input type="number" ng-model="useramt" style="width: 80px;" value="{{urdamt}}"></td>
 -->        </tr>
        <tr>
          <td ng-cloak>Total:{{urdAdjustmentTotal}}</td>
        </tr>
        </tbody>
       </table>
        </div>
        </div>
<div class="w3-quarter w3-container">
    <div class="w3-card-2 w3-margin">
        <header class="w3-container w3-light-grey w3-padding-8 w3-center">
        <h4 >ORDER ADVANCES</h4>
        </header>
          <table class="w3-table w3-stripped w3-bordered">
      
            <thead>
             <tr>
         
        <th>Transction</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Amount</td>
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" ng-model="user.amt" style="width: 80px;" ng-value="{{ordamt}}"></td>
        </tr>
        <tr>
        <td>Material</td>
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');"  ng-model="user.amt" style="width: 80px;" ng-value="{{ordmat}}"></td>
        </tr>
       
        </tbody>
       </table>
        </div>
        </div>
         <div class="w3-quarter w3-container">
    <div class="w3-card-2 w3-margin">
        <header class="w3-container w3-light-grey w3-padding-8 w3-center">
        <h4 >BOOKING ADVANCES</h4>
        </header>
          <table class="w3-table w3-stripped w3-bordered">
      
            <thead>
             <tr>
         
        <th>Transction</th>
        <th>Amount</th>
      </tr>

    </thead>
    <tbody>
      <tr>
       
        <td>Amount</td>
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');"  ng-model="user.amt" style="width: 80px;" ng-value="{{bookamt}}"></td>
        </tr>
         <tr>
          <td></td>
        </tr>
        </tbody>
       </table>
        </div>
        </div>
         <div class="w3-quarter w3-container">
    <div class="w3-card-2 w3-margin">
        <header class="w3-container w3-light-grey w3-padding-8 w3-center">
        <h4 >SCHEME CREDITS</h4>
        </header>
          <table class="w3-table w3-stripped w3-bordered">
      
            <thead>
             <tr>
        
        <th>Transction</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Amount</td>
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" ng-model="user.amt" style="width: 80px;" ng-value="{{schamt}}"></td>
        </tr>
        <tr>
        <td>Material</td>
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" ng-model="user.amt" style="width: 80px;" ng-value="{{schmat}}"></td>
        </tr>
        </tbody>
       </table>
        </div>
    </div>
</div>
</div>
<br><br>
     <div style="overflow-x:auto;"> 
  <table class="table table-striped" ng-cloak>
    <thead>
      <tr>
      <th>Checkbox</th>
       <th>Item<span id="star"><font size="04">*</font></span></th>
        <th ng-disabled="transaction=='Issue Voucher'||transaction=='Receipt Voucher'">Barcode</th>
        <th>Description</th>
        <th>Size</th>
        <th >Purity<span id="star"><font size="04">*</font></span></th>
        <th >Gross Wt<span id="star"><font size="04">*</font></span></th>
        <th >Gross Pcs<span id="star"><font size="04">*</font></span></th>
        <th >Stone Wt</th>
        <th>UoM<span id="star"><font size="04">*</font></span></th>
        <th >Net Wt</th>  
        <th >Pct</th>
        <th>Wastage</th>
        <th >Adjusted Qty</th>
        <th >Chg.Units</th>
        <th>MRP</th>
        <th >Rate</th>
        <th >Labour Calc</th>
        <th >Labour Amt</th>
        <th>Labour Val</th>
        <th ng-if = " LabourTax =='Yes'">Labour Tax</th>
        <th>Stone Calc</th>
        <th>Stone Chg</th>
        <th>Stone Val</th>
        <th >Taxable Value</th>
         <th ng-if = "transaction != 'Urd Purchase'" >Tax<span id="star"><font size="04">*</font></span></th>
        <th ng-if = " (radiowithinstate =='withinstate' && transaction != 'Urd Purchase')  " >CGST</th>
         <th ng-if = " (radiowithinstate =='withinstate' && transaction != 'Urd Purchase') ">SGST</th>
        
          <th  ng-if = " (radiowithinstate !='withinstate' && transaction != 'Urd Purchase')  ">IGST</th>
       
        <!-- <th  ng-if = " (radiowithinstate =='withinstate' && transaction == 'Regular Sale') ||(radiowithinstate =='withinstate' && transaction == 'RD Purchase') " > -->
        <th  ng-if = " (radiowithinstate =='withinstate' && transaction != 'Urd Purchase') " >
        Taxamt</th>
        <th >Final Val</th>
         <th ng-if="transaction != 'Valuation'">Stock Pt</th>
         <th >Sales Person<span id="star"><font size="04">*</font></span></th>
         <th ng-show="transaction != 'Issue Voucher'&&transaction != 'Receipt Voucher'&&transaction!='Approval Out'&&transaction !='Approval Return'">Acc No<span id="star"><font size="04">*</font></span></th>
        
    <!--   <th class = "ng-hide">Transaction</th>  -->
  <!--     <th >Transaction</th> 
      <th >remarks</th>  -->
       <!--  </font> -->

      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in userit">
      
       <td>
          <input type="checkbox" ng-checked="checkbox"   ng-click = "indexFunctionCall($index)" ng-disabled="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Return'" />
       </td>
       
       
       
       <td>
        <!-- <select  class="selectpicker" ng-model="item.itemName" ng-change="itemSelect(item.itemName);callback(item.itemName,$index)"> -->
        <select  class="selectpicker" ng-model="item.itemName" ng-change="itemSelect(item.itemName,$index)" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'">
        <option ng-repeat="itemname in items" >{{itemname.Name}}</option>
        </select>
        
       </td>
             
       <td>
        <input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control"   ng-model="item.barcodeNumber" ng-change = "barcodeScan($index)" ng-disabled=" transaction == 'RD Purchase' ||transaction == 'Urd Purchase' " ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'" ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'">
       </td>
       <td>
       <input type="text" class="form-control" id="usr"   ng-model="item.desc"  maxlength="40" ></td>
       <td><input type="text" class="form-control" id="usr" size="40" ng-model="item.size" ng-value="{{item.size}}"></td>
      <!--  <td> <select ng-model="purity" class="selectpicker" ng-change="purityCal($index,purity)"> -->
       <!-- <td> <select ng-model="item.purity" class="selectpicker" ng-change="purityCal($index,item.purity)">
       <option ng-repeat="pure in  " value="{{pure.ValueNotation}}">{{pure.ValueNotation}}</option>
       </select>
       </td> -->
      <td> <select ng-model="item.purity" class="selectpicker" ng-change="purityCal($index,item.purity)" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'">
       <option ng-repeat="pure in item.irate" >{{pure.ValueNotation}}</option>
       </select>
       </td>

       <!-- <td><input type="text" class="form-control" id="usr" value="{{item.gwt}}"  ng-model="item.gwt"  ng-change="newgwt($index)"></td> -->
       <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr"   ng-model="item.gwt"  ng-change="newgwt($index)" ng-blur="findWeightTolerence($index)" ng-disabled= "disableMrp1($index)||transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"  ></td>

       <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr" ng-model="item.gpcs"  ng-change="gpcsDecimals($index)" ng-blur="gpcsLimit($index)" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>
       
       <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control"  id="usr"  ng-model="item.stwt" ng-change="newstwt($index)"  placeholder="0" ng-disabled= "disableMrp1($index)||transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'" ng-blur="stoneTolerence($index)" ></td>

       <td><select ng-model="item.uom" ng-change= "uomConversion($index,item.uom)" class="selectpicker" ng-disabled= "disableMrp1($index)||transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'">
       <option ng-repeat="uom in uom" selected>{{uom.name}}</option>
       </select></td>

       <!-- <td><input type="number" value="{{item.ntwt}}" ng-model="item.ntwt" class="form-control" id="usr" readonly></td> -->
       <td><input type="text"  ng-model="item.ntwt" class="form-control" id="usr" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

       <td><select ng-model="item.pctcal" ng-change=newwas($index,item.pctcal) class="selectpicker" ng-disabled= "disableMrp1($index)">
       <option ng-repeat="pct in pct" value="{{pct.name}}">{{pct.name}}</option>
       </select></td>
       
       <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr" ng-model="item.wastage" ng-value="{{item.wastage}}" ng-change=newwas($index,item.pctcal) ng-disabled= "disableMrp1($index)||transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

       <td ><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr" ng-model="item.matadj" ng-value="{{item.matadj}}" ng-disabled= "disableMrp1($index)" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

       <td><input type="text" class="form-control" id="usr" ng-model="item.chgunt" ng-value="{{item.chgunt}}" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

       <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr" ng-model="item.mrp"  ng-change="mrpCal($index)" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'" ></td>

       <td ><input type="text" class="form-control" id="usr" ng-model="item.rate" ng-change="rateChange($index)" ng-disabled= "disableMrp1($index)" ng-disabled="transaction=='Sale Return'"></td>

       <td><select ng-model="item.labcal"  ng-change="newlab($index,item.labcal)" class="selectpicker" ng-disabled= "disableMrp1($index)">
       <option  ng-repeat="lab in labcal" ng-value="{{lab.name}}" >{{lab.name}}</option>
       </select></td>


       <td ><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr" ng-model="item.labamt" ng-value="{{item.labamt}}" ng-change="newlab($index,item.labcal)" placeholder="0" ng-disabled= "disableMrp1($index)"></td>



       <td><input type="text" class="form-control"  id="usr"  ng-model="item.labval" ng-value="{{item.labval}}" placeholder="0" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

       <td ng-if = " LabourTax =='Yes'"><input type="text" class="form-control" ng-model="item.labourTaxValue" placeholder="0" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>


       <td> <select ng-model="item.stonecal" ng-change="newstchg($index,item.stonecal)" class="selectpicker" ng-disabled= "disableMrp1($index)">
       <option ng-repeat="lab in labcal" ng-value="{{lab.name}}">{{lab.name}}</option>
       </select></td>
       
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" class="form-control" id="usr" ng-model="item.stchg" ng-value="{{item.stchg}}" ng-change="newstchg($index,item.stonecal)" placeholder="0" ng-disabled= "disableMrp1($index)"></td>

        <td><input type="text" class="form-control"  id="usr"  ng-model="item.stval" ng-value="{{item.stval}}" placeholder="0" readonly></td>

       <td><input type="text" class="form-control"  id="usr" ng-model="item.taxval" ng-value="{{item.taxval}}" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>
       <!--  <td><select  class="selectpicker">
        <option value="{{itemname.name}}">1%</option>
        </select></td> tax -->
       <td ng-if = "transaction != 'Urd Purchase'"> <select ng-model="item.taxSelection" ng-change="taxSelectionCall($index,item.taxSelection)" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'">
       <option ng-repeat="tax in withinstat" ng-value="{{tax.taxname}}">{{tax.taxname}}</option>
       </select></td>

<td  ng-if = " (radiowithinstate =='withinstate' && transaction != 'Urd Purchase') "><input type="text"   class="form-control"   ng-model="item.withinstatecgst"  ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

         <td ng-if =" (radiowithinstate =='withinstate' && transaction != 'Urd Purchase')"><input type="text" class="form-control"   ng-model="item.withinstatesgst" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

          <td  ng-if =  " (radiowithinstate !='withinstate' && transaction != 'Urd Purchase')  "><input type="text" class="form-control"  id="usr"  ng-model="item.outofstateigst" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>


       <td ng-if =  " (radiowithinstate =='withinstate' && transaction != 'Urd Purchase')  "><input type="text" class="form-control"  id="usr"   ng-model="item.taxamt" ng-value="{{item.taxamt}}" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>

       <td ><input type="text" class="form-control"  id="usr" ng-model="item.final" ng-value="{{item.final}}" ng-disabled="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'"></td>
         <td>
       <select ng-if="transaction != 'Valuation'"  ng-model="item.stockPoint" ng-click=stockPtCall($index,item.barcodeNumber) ng-disabled="$index==limit">
        <option  ng-repeat="stocks in stock "  >{{stocks.stockpointname}}</option>
        </select></td>

       <td> <select ng-model="item.salesPerson" ng-disabled="usersalesperson == true">
       <option ng-repeat="sales in salesperson" ng-value="{{sales.Name}}"  >{{sales.Name}}</option>
       </select></td>

       <td> <select ng-model="item.AccNo" ng-show="transaction != 'Issue Voucher'&&transaction != 'Receipt Voucher'&&transaction != 'Approval Out'&&transaction !='Approval Return'">
       <option ng-repeat="acc in item.accNumbers" ng-value="{{acc.AccNo}}">{{acc.AccNo}}</option>
       </select></td>
       

       
      <!--  <div class = "ng-hide"> 
      <td ><input type="text" class="form-control"  id="usr" ng-model="item.Transaction" ng-value="{{item.Transaction}}"></td>

    
      </div> -->
        <!-- <select type="text" class="form-control" ng-model="item.iname" value="{{item.iname}}" id="usr"  ><option >{{item.iname}}</option></select>
         </div> -->
       </tr>

      
    </tbody>
      
  </table>
  </div>
   <form class="form-inline" >
   <div class="form-group" ng-cloak>
   <button class="btn btn-primary addnew pull-left" id="buttonwidth1" ng-if = " edituseritButton != true"   ng-click="addNew()" ng-disabled="reqColor()" ng-hide="transaction=='Sale Return'||transaction=='Purchase Return'||transaction=='Approval Sale'||transaction=='Approval Return'" >Add New</button>

   <!-- <input  id="buttonwidth"  class="btn btn-danger pull-left" ng-click="removeSelectedRows()" value="Remove" ng-disabled="reqColor()"> -->
   <button ng-if = " edituseritButton == true"  class="btn btn-danger pull-left" id="buttonwidth1" ng-click="removeSelectedRowsCheck()" ng-disabled="reqColor()">Remove</button>
   <button ng-if = " edituseritButton != true"  class="btn btn-danger pull-left" id="buttonwidth1" ng-click="removeSelectedRows()" ng-disabled="reqColor()" ng-hide="transaction=='Sale Return'||transaction=='Purchase Return'">Remove</button>
  
      <!-- <label >Remarks:</label> -->
     <!--  <input type="text" ng-disabled="form.$invalid || reqColor()"ng-model="item.remarks"class="form-control"  placeholder="Please enter remarks!" > -->
    
  <!-- <input type="text" class="form-control"  id="usr" ng-model="remarks"  ></td> -->
 
   
  </div>
  </form></div><br>
<!-- <<<<<<< HEAD -->

 <!-- <div class="w3-row-padding w3-border" ng-cloak> -->
    <!-- <div class="w3-half w3-container" ng-hide=""> -->
<!-- ======= -->
  <!--  <div class="w3-row-padding w3-border" ng-cloak>
    <div class="w3-half w3-container" > -->
  
<!-- 
 <div class="w3-row-padding w3-border"> -->
  <div class="col-sm-6" ng-show ="(transaction == 'Urd Purchase'|| transaction == 'Sale Return'|| transaction == 'Purchase Return'|| transaction == 'Issue Voucher'|| transaction == 'Receipt Voucher'|| transaction == 'Valuation'|| transaction == 'RD Purchase')"></div>
    <div class="w3-half w3-container" ng-hide ="(transaction == 'Urd Purchase' || transaction == 'Sale Return'|| transaction == 'Purchase Return'|| transaction == 'Issue Voucher'|| transaction == 'Receipt Voucher' || transaction == 'Valuation'|| transaction == 'RD Purchase'||transaction == 'Approval Out'||transaction=='Approval Return'||transaction=='Approval Sale')">
<!-- >>>>>>> 61946425920cfde23eb0ef81e1ccb2a84ae6baa2 -->
    <!-- <div class="w3-card-6 w3-margin"> -->
        <header class="w3-container w3-light-grey w3-padding-8 w3-center">
     <!--    <h4 >DISCOUNT/CHARGES</h4> -->
          <h4 >INVOICE CHARGES</h4>
        </header>
          <table class="w3-table w3-stripped w3-bordered">
    <thead>
      <tr>
        <th>Name</th>
        <th>Method</th>
        <th>Value</th>
        <th>Amount</th>
     
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Cash Discount</td>
        <td>Amount</td>
        <td ><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" ng-model="discount" style="width: 80px;" ng-change="addDis()" placeholder="0" ></td>
       <!--  <td>.00</td> -->
       <td>{{discount1}}</td>

    </tr>
   <tr>
        <td>Credit Card</td>
        <td>Amount</td>
        <td><input type="number" min="1" name=""  oninput="this.value=this.value.replace(/[^0.0-9.0]/g,'');" ng-model="ccamt" style="width: 80px;" ng-change="addCca()" placeholder="0"></td>
        <!-- <td>.00</td> -->
        <td>{{ccamt1}}</td>
    </tr>
   <tr>
        <td>Round Off</td>
        <td>Amount</td>
        <!-- <td><input type="number" ng-model="roffamt" style="width: 80px;" ng-change="roundOff()"></td> -->
       <!--  <td >0</td> -->
       <td >{{}}</td>
        <td>{{decimals}}</td>
    </tr>

   
    </tbody>
  </table></div> </div>
  
  
    <!-- <div class="col-md-3">
    <table class="table table-bordered" >
    <thead>
      <TR  ng-repeat="amt in saleinv">
      <TH>Taxable val</TH>
        <TD>{{amt.taxableval}}</TD> </TR>

        <TR><TH>Tax</TH>
          <TD>{{amt.tax}}</TD></TR>

          <TR><TH>Discount</TH>
            <TD>{{amt.dis}}</TD></TR>

            <TR><TH>Sub Total</TH>
              <TD>{{amt.subtol}}</TD></TR>
              
              <TR><TR><TH>Charges</TH>
                <TD>{{amt.char}}</TD></TR>
              
              <TR><TH>Adjustments</TH>
                <TD>{{amt.adj}}</TD></TR>
    </thead>
  </table></div></div> -->
   <!-- <div class="w3-row-padding w3-border"> -->
   <!--  <div class="col-sm-6"> -->
    

  <div class="w3-quarter w3-container" ng-hide="!saleinv.length" >
    <div class="w3-card-2 w3-margin" >
        <header class="w3-container w3-light-grey w3-padding-8 w3-center" >
   <h4 >FINAL CALCULATION </h4>
        </header>
          <table class="w3-table w3-stripped w3-bordered" >
  <tbody ng-repeat="amt in saleinv" >
      <tr>
        <td ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'" readonly> Taxable     </td>
        <!-- <input type="text" class="form-control"  id="usr1"  ng-value="finalCalTaxable" readonly/> -->
        <td ><input type="text" class="form-control"  id="usr"  ng-model="amt.taxableval" ng-value="{{amt.taxableval}}" ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'" readonly/></td>
        </tr>
        <tr>
        <td ng-hide ="(transaction == 'Urd Purchase'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return' )">Tax </td>
        <td ng-hide ="(transaction == 'Urd Purchase' )"><input type="text" class="form-control" id="usr" ng-model="amt.tax" ng-value="{{amt.tax}}" ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'" readonly/ ></td>
        </tr>
        <tr>
        <td ng-hide ="(transaction == 'Urd Purchase'|| transaction == 'Valuation'|| transaction == 'RD Purchase'|| transaction == 'Purchase Return'||transaction == 'Sale Return'||transaction == 'Purchase Return'||transaction == 'Approval Sale'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return' )">Discount     </td>
        <td ng-hide ="(transaction == 'Urd Purchase'|| transaction == 'Valuation'|| transaction == 'RD Purchase'|| transaction == 'Purchase Return'||transaction == 'Sale Return'||transaction == 'Purchase Return'||transaction == 'Approval Sale'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return')"><input  type="text" class="form-control" id="usr" ng-model="amt.dis" ng-value="{{amt.dis}}" readonly/></td>
        </tr>
        <tr>
        <td ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'">Subtotal     </td>
        <td><input type="text" type="text" class="form-control" id="usr" ng-model="amt.subtol" ng-value="{{amt.sutol}}" ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'" readonly/ ></td>
        </tr>
        <tr>
        <td ng-hide ="(transaction == 'Urd Purchase'|| transaction == 'Valuation'|| transaction == 'RD Purchase'|| transaction == 'Purchase Return'||transaction == 'Sale Return'||transaction == 'Purchase Return'||transaction == 'Approval Sale'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return' )">Charges      </td>
        <td ng-hide ="(transaction == 'Urd Purchase'|| transaction == 'Valuation'|| transaction == 'RD Purchase'|| transaction == 'Purchase Return' ||transaction == 'Sale Return'||transaction == 'Purchase Return'||transaction == 'Approval Sale'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return' )"><input type="text" class="form-control"  id="usr"  ng-model="amt.char" ng-value="{{amt.char}}" readonly/></td>
        </tr>
        <tr>
        <td ng-hide ="(transaction == 'Urd Purchase'|| transaction == 'Valuation'|| transaction == 'RD Purchase'|| transaction == 'Purchase Return'||transaction == 'Sale Return'||transaction == 'Purchase Return'||transaction == 'Approval Sale'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return' )">Adjustments   </td>
        <td ng-hide ="(transaction == 'Urd Purchase'|| transaction == 'Valuation'|| transaction == 'RD Purchase'|| transaction == 'Purchase Return'||transaction == 'Sale Return'||transaction == 'Purchase Return'||transaction == 'Approval Sale'||transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return' )"><input type="text" class="form-control"  id="usr"  ng-model="adjqty"  ng-value="{{adjqty}}" readonly/></td>
        </tr>
        <tr>
        <td ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'">Invoice Value </td>
        <td><input type="text" class="form-control"  id="usr"  ng-model="amt.invoiceValue" ng-value="{{amt.invoiceValue}}" ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'"readonly/></td>
        </tr>
         <tr>
        <td ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'">Nett Amt      </td>
        <td><input type="text" class="form-control"  id="usr"  ng-model="amt.netamt" ng-value="{{amt.netamt}}" ng-hide="transaction=='Issue Voucher'||transaction=='Receipt Voucher'||transaction=='Approval Out'||transaction=='Approval Return'"readonly/ ></td>
        </tr>
       
        </tbody>
       </table>
        </div>
        </div>
     <!--  </div> -->
  <div class="col-md-2">

  <button ng-if = " edituseritButton == true"  ng-click="updateEditTransaction()" class="btn btn-success" id="buttonwidth"  ng-disabled="reqColor()">Update</button>

  <button  ng-if = " edituseritButton != true && transaction != 'Valuation'&&transaction != 'Issue Voucher' && transaction != 'Receipt Voucher'&& transaction != 'Sale Return'&& transaction != 'Purchase Return'"  ng-click="save()" class="btn btn-success" id="buttonwidth"  ng-disabled="reqColor()">Save</button>
  <button  ng-if = "transaction == 'Sale Return'||transaction == 'Purchase Return'"  ng-click="save()" class="btn btn-success" id="buttonwidth"  ng-disabled="reqColor()">Return</button>
 <!--  <button  ng-if = "transaction == 'Purchase Return'"  ng-click="save()" class="btn btn-success" id="buttonwidth"  ng-disabled="reqColor()">Return</button> -->
  <br>
  <br>
  <!-- <br>ng-if="refId != null" -->
  <button  ng-if = " edituseritButton != true && transaction == 'Valuation'"  ng-click="save();" class="btn btn-success" id="buttonwidth" >Print</button>
  <button class="btn btn-success" id="buttonwidth" ng-show="transaction=='Issue Voucher'||transaction=='Receipt Voucher'" ng-click="save()">Print</button>
  <!-- <button ng-if = " all =='Urd Purchase' ||all =='RD PURCHASE'" ng-click="save()" class="btn btn-primary custom" id="save" ng-disabled="all" >Save</button> -->
 <!-- <button ng-click="save()" class="btn btn-primary custom" id="save" >Save</button> -->
 <!--  <button  ng-if = " transaction !='Urd Purchase'" ng-click="save()" class="btn btn-success" id="buttonwidth"  ng-disabled="reqColor()">Save</button> -->

 <!-- <a href="pdf.html"  ng-if = "all == 'VALUATION'"><button   ng-click="save()" class="btn btn-primary custom" id="save" >Print</button></a> -->
 <!-- <button ng-if = "all == 'VALUATION'"  ng-click="save()"class="btn btn-primary custom" id="save" >Print</button> -->

  <br>
  <br>

           
<!-- <<<<<<< HEAD   
 <button type="button" data-toggle="modal" href={{firstName}}>Open Modal</button> 
 data-target="#myModal1"
 -->
<!-- <button ng-hide ="(desgination != 'Billing Person' || transaction == 'Issue Voucher')" class="btn btn-primary" data-toggle="modal" data-target="#myModal1" id="buttonwidth"  ng-show="transaction != 'Issue Voucher'&& transaction != 'Receipt Voucher'&&transaction!='RD Purchase'&&transaction!='Sale Return'&&transaction!='Purchase Return'&&transaction != 'Approval Out'&&transaction!='Approval Return'"  ng-click="inoviceNumberGeneration()" ng-disabled="reqColorPay()" >Pay</button> 
 ng-click="save();inoviceNumberGeneration()" -->
<button ng-hide ="(desgination != 'Billing Person' || transaction == 'Issue Voucher')" class="btn btn-primary" id="buttonwidth" ng-show="transaction != 'Issue Voucher'&& transaction != 'Receipt Voucher'&&transaction!='RD Purchase'&&transaction!='Sale Return'&&transaction!='Purchase Return'&&transaction != 'Approval Out'&&transaction!='Approval Return'"  ng-click="save();inoviceNumberGeneration()" ng-disabled="reqColorPay()" data-toggle="modal"  ng-href={{dataTargetCall}} >Pay</button>

  <br>
   <br>

            <a href='mainpage.html' id="buttonwidth" style="background-color: #f44336;" class="btn btn-danger">Close</a><br>
  <br>
   <br>

            <a >
              <button id="buttonwidth"  class="btn btn-default" ng-hide ="(desgination != 'Billing Person1' )" ng-if = " (transaction == 'Urd Purchase' && payButtonDIsplay == 'true')||(edituseritButton == true && payButtonDIsplay == 'true' )" ng-click="inoviceNumberGeneration()" >Print</button></a><br><br>

           
 <br>


            
</div>
</div>
<!-- <div class="modal fade" id="myModal1"> -->
<div class="modal fade" id="myModal1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
             <div class="modal-body">
             <h1 align="center">Payment</h1>
             <div style="border:1px solid black;">
             <h4 align="center" ng-model="partyname">PartyName: {{partyname}}</h4>
             <table class="table table-striped">
               <thead>
                 <tr>
                   <!-- <th>PartyName</th> -->
                   <th>SL NO</th>
                   <th>Items Purchased</th>
                   <th>Total TaxableValue</th>
                   <th>Tax</th>
                   <th>Final Amount</th>
                 </tr>
               </thead>
               <tbody>
                 <tr ng-repeat="total in userit">
                  <!-- <td>{{total.partyname}}</td> -->
                  <td>{{$index + 1}}</td>
                <!--   <td>{{total.itemName}}</td> -->
                  <td>{{total.itemName}}</td>
                   <td>{{total.taxval}}</td>
                   <td>{{total.taxamt}}</td>
                   <td>{{total.final}}</td>
                 </tr>
               </tbody>
             </table>
             <div ng-repeat="tol in saleinv">
             <font size="03">Adjustments: {{tol.adj}}   charges: {{tol.char}}  Discounts:{{tol.dis}}</font>
             <h4 align="right">NettPayable: {{tol.netamt}}</h4>
             </div></div><br><br>
             <div style="border:1px solid black;">
             <h3 align="center">Payment Collection</h3>

             <table class="table table-striped" id="tab_customers">
    <thead>
      <tr>
        <th>Mode</th>
        <th>Amount</th>
        <th>Bank Name</th>
        <th>Cq/CC/DD No</th>
        <th>Date</th>
       <!--  <th>purity</th>
        <th>stone wt</th>
        <th>uom</th> -->
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><select ng-model="cashmode" class="selectpicker">
       <option ng-repeat="cash in cash" value="{{cash.name}}">{{cash.name}}</option>
       </select>
     </td>
        <td><input type="text" class="form-control" id="usr"></td>
        <td>
      <select ng-model="bankname" class="selectpicker" ng-disabled="cashmode === 'Cash'">
       <option ng-repeat="bank in Bank" value="{{bank.name}}" ng-disabled="cashmode === 'Cash'">{{bank.name}}</option>
       </select></td>
        <td><input type="text" class="form-control" id="usr" ng-disabled="cashmode === 'Cash'"></td>
        <td><input type="text" class="form-control" id="usr"></td>
       </tr>      
       <!--  -->
    </tbody>
  </table>
  Narration:<input type="text" class="form-control" id="usr" width="3em">
  <hr>
</div>
</div><br>

<a href="pdf.html"><button  class="btn btn-primary" id="buttonwidth"  ng-click = "confirmOrder()">Confirm</button></a>
<!-- <button type="button" class="btn btn-primary" id="button" ng-click = "confirm()">Confirm</button> -->

             
             <!-- <img src="https://www.webdesign.123coimbatore.com/images/payment-option-banner.jpg" height="200px" width="300px">
             <h1>Choose the payment method</h1>
             <div class="row">
             <div class="col-md-2">
            <a href=""> <img src="http://www.car-rental-bintulu.com/m/payment/Visa.jpg" height="100px" width="100px">
             </div>
             <div class="col-md-2">
              <a href=""> <img src="https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQHpDl-cvx0A9JhpIoTV4omYvpZk9MpCg151-oh_k8YBBqnNJTV" height="100px" width="100px">
             </div>
             </div>
                 <input type="text" >CASH</div>
                
             </div> -->
             <div class="modal-footer">
                 <a href="#" class="btn" data-dismiss="modal">Close</a>
             </div>
        </div>
    </div>
</div>

<!-- for history -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
             <div class="modal-body">
             <h1 align="center">Party Transaction History</h1>
             <div style="border:1px solid black;">
             <!-- <h4 align="center" ng-model="partyname">PartyName: {{partyname}}</h4> -->
              <div class="row">
  <!-- <div class="col-sm-4"> -->
  <div class="col-sm-4">
  <form>           
  Partyname:
  
             <select ng-model="partyname" class="selectpicker" ng-change="history()">
  <option ng-repeat="party in res" value="{{party.name}}">{{party.name}}</option>
</select>
</form>
</div>
<!-- <div class="col-sm-2">
<label> From <input type="date" ng-model="search.fdate"></label>
</div>
<div class="col-sm-2">
       
      <form>
  Birthday:
  <input type="date" name="bday">
 
</form>



       </div> -->
       <div class="col-sm-4">
       
       <label>PDF</label>



       </div>
</div>
             <table class="table table-striped">
               <thead>
                 <tr>
                   <!-- <th>PartyName</th> -->
                   <th>SL NO</th>
                   <th>Date</th>
                   <th>Transaction</th>
                   <th>VoucherNo</th>
                   <th>Value</th>
                   <th>Remarks</th>
                 </tr>
               </thead>
               <tbody>
                 <tr ng-repeat="total in user">
                  <!-- <td>{{total.partyname}}</td> -->
                  <td>{{$index + 1}}</td>
                  <td>{{total.date | date }}</td>
                   <td>{{total.Transaction}}</td>
                   <td>{{total.VoucherNo}}</td>
                   <td>{{total.final}}</td>
                   <td>{{total.remarks}}</td>
                 </tr>
               </tbody>
             </table>
          </div><br>


             <div class="modal-footer">
                 <a href="#" class="btn" data-dismiss="modal">Close</a>
             </div>
        </div>
    </div>
</div>
</div>


</body>

<!-- <script type="text/javascript"> 

$('.selectpicker').selectpicker();
$(".dropdown-menu li a").click(function(){
  var selText = $(this).text();
  $(this).parents('.btn-group').find('.dropdown-toggle').html(selText+' <span class="caret"></span>');
});
$("button").on("click", function () {
    var state = $(this).data('state');
    state = !state;
    if (state) {
        $("span").addClass("show");
    } else {
        $("span").removeClass("show");
    }
    $(this).data('state', state);
});

  </script> -->


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type = "text/javascript" 
         src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <!-- <script src = "jquery.plug-in.js" type = "text/javascript"></script> -->
      <script type="text/javascript" src="controller/controller.js"></script>   
      <script type="text/javascript" src="Services/ControllerService.js"></script>  
</html>

